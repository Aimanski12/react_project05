{"ast":null,"code":"import { UAParser } from 'ua-parser-js';\nimport axios from 'axios'; // get sessionStorage\n// export const sessionStore = JSON.parse(sessionStore.getItem('websession'))\n\nexport function sessionStore() {\n  let session = window.sessionStorage.websession;\n\n  if (session === undefined) {\n    return false;\n  } else {\n    return JSON.parse(session);\n  }\n} // firebase url\n\nconst firebaseUrl = 'https://aimanadlawansite.firebaseio.com'; // function to generate firebase url\n\nexport function generateUrl(urlDirection) {\n  const d = getTime('url');\n  let url = `${firebaseUrl}/${urlDirection}/${d.y}/${d.m}/${d.dy}_${d.de}`;\n  return url;\n} // function to get user data\n\nexport const getUserData = () => {\n  let parser = new UAParser();\n  return parser.getResult();\n}; // get user device data\n\nexport const getIP = async () => {\n  let userIp;\n  await axios.get('https://ipapi.co/json/').then(res => {\n    if (res.status === 200) {\n      if (res.data) {\n        let data = res.data;\n        userIp = {\n          cap: data.country_capital,\n          city: data.city,\n          country: data.country_name,\n          ip: data.ip,\n          lat: data.latitude,\n          long: data.longitude,\n          timeZ: data.timezone,\n          region: data.region,\n          postC: data.postal,\n          internet: data.org\n        };\n      }\n    }\n  }).catch(err => {\n    if (err) {\n      userIp = {\n        blocked: 'User blocked this data.'\n      };\n    }\n  });\n  return await userIp;\n}; // check if the session has expired\n\nexport function checkIfExp(time) {\n  let now = getTime('now');\n  let runTime = Math.floor((now - time) / 1000 / 60);\n\n  if (runTime > 0) {\n    return true;\n  } else {\n    return false;\n  }\n} // function to get time\n\nexport const getTime = url => {\n  const date = new Date();\n  let d = date.getDate();\n  let month = date.getMonth(); // get time for url structure query\n\n  if (url === 'url') {\n    return {\n      y: date.getFullYear(),\n      m: `${n(month + 1)}_${mn[date.getMonth()]}`,\n      dy: n(d),\n      de: dt[date.getDay()]\n    };\n  } else if (url === 'timeOfVisit') {\n    // get time for the time of visit\n    return {\n      time: `${date.getHours()}: ${date.getMinutes()}: ${date.getSeconds()}`\n    };\n  } else if (url === 'now') {\n    // get time for the time of visit\n    return date.getTime();\n  }\n}; // filter number if data is single digit\n\nconst n = d => {\n  return d < 10 ? `0${d}` : d;\n}; // set the month to the exact number index of the array\n\n\nconst mn = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']; // set the day to the exact number index of the array\n\nconst dt = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\nlet routes = ['home', 'about', 'projects', 'contacts', 'privacy', 'credentials', 'projects/projects/music-app', 'projects/reservation-app', 'projects/electric-bill', 'projects/music-player3', 'projects/music-player4', 'projects/music-player5']; // this function will generate a return the current route\n// for the state\n\nexport const checkRoute = route => {\n  let r = route.slice(1, 50);\n  let url = r === '' ? 'home' : r;\n  let b;\n  let a = routes.filter(route => {\n    return route === url;\n  });\n\n  if (a[0] === undefined) {\n    b = 'notFound';\n  } else {\n    b = a[0];\n  }\n\n  return b;\n};","map":{"version":3,"sources":["C:/Projects/Web Dev/Main Files/Official Website/newdesign/Main/src/utils/sessiondata/commonfunctions.js"],"names":["UAParser","axios","sessionStore","session","window","sessionStorage","websession","undefined","JSON","parse","firebaseUrl","generateUrl","urlDirection","d","getTime","url","y","m","dy","de","getUserData","parser","getResult","getIP","userIp","get","then","res","status","data","cap","country_capital","city","country","country_name","ip","lat","latitude","long","longitude","timeZ","timezone","region","postC","postal","internet","org","catch","err","blocked","checkIfExp","time","now","runTime","Math","floor","date","Date","getDate","month","getMonth","getFullYear","n","mn","dt","getDay","getHours","getMinutes","getSeconds","routes","checkRoute","route","r","slice","b","a","filter"],"mappings":"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","sourcesContent":["import {UAParser} from 'ua-parser-js'\r\nimport axios from 'axios'\r\n\r\n// get sessionStorage\r\n// export const sessionStore = JSON.parse(sessionStore.getItem('websession'))\r\nexport function sessionStore () {\r\n  let session = window.sessionStorage.websession\r\n  if(session === undefined){\r\n    return false\r\n  } else {\r\n    return JSON.parse(session)\r\n  }\r\n}\r\n\r\n// firebase url\r\nconst firebaseUrl = 'https://aimanadlawansite.firebaseio.com'\r\n\r\n\r\n\r\n// function to generate firebase url\r\nexport function generateUrl(urlDirection) {\r\n  const d = getTime('url')\r\n  let url = `${firebaseUrl}/${urlDirection}/${d.y}/${d.m}/${d.dy}_${d.de}`\r\n  return url\r\n}\r\n\r\n\r\n\r\n// function to get user data\r\nexport const getUserData = () => {\r\n  let parser = new UAParser()\r\n  return parser.getResult()\r\n}\r\n\r\n\r\n\r\n// get user device data\r\nexport const getIP = async () => {\r\n  let userIp\r\n\r\n  await axios.get('https://ipapi.co/json/')\r\n    .then(res => {\r\n      if (res.status === 200) {\r\n        if (res.data) {\r\n          let data = res.data\r\n          userIp = {\r\n            cap: data.country_capital,\r\n            city: data.city,\r\n            country: data.country_name,\r\n            ip: data.ip,\r\n            lat: data.latitude,\r\n            long: data.longitude,\r\n            timeZ: data.timezone,\r\n            region: data.region,\r\n            postC: data.postal,\r\n            internet: data.org,\r\n          }\r\n        }\r\n      }\r\n    })\r\n    .catch(err => {\r\n      if (err) {\r\n        userIp = {\r\n          blocked: 'User blocked this data.'\r\n        }\r\n      }\r\n    })\r\n  return await userIp\r\n}\r\n\r\n\r\n\r\n// check if the session has expired\r\nexport function checkIfExp(time) {\r\n  let now = getTime('now')\r\n  let runTime = Math.floor(((now - time) / 1000) / 60)\r\n  if (runTime > 0) {\r\n    return true\r\n  } else {\r\n    return false\r\n  }\r\n}\r\n\r\n\r\n\r\n// function to get time\r\nexport const getTime = (url) => {\r\n  const date = new Date()\r\n  let d = date.getDate()\r\n  let month = date.getMonth()\r\n\r\n  // get time for url structure query\r\n  if (url === 'url') {\r\n    return {\r\n      y: date.getFullYear(),\r\n      m: `${n(month+1)}_${mn[date.getMonth()]}`,\r\n      dy: n(d),\r\n      de: dt[date.getDay()],\r\n    }\r\n  } else if (url === 'timeOfVisit') {\r\n    // get time for the time of visit\r\n    return {\r\n      time: `${date.getHours()}: ${date.getMinutes()}: ${date.getSeconds()}`\r\n    }\r\n  } else if (url === 'now') {\r\n    // get time for the time of visit\r\n    return date.getTime()\r\n  }\r\n}\r\n\r\n\r\n\r\n// filter number if data is single digit\r\nconst n = (d) => {\r\n  return d < 10 ? `0${d}` : d\r\n}\r\n\r\n\r\n\r\n// set the month to the exact number index of the array\r\nconst mn = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\r\n\r\n// set the day to the exact number index of the array\r\nconst dt = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']\r\n\r\n\r\n\r\nlet routes = [\r\n   'home', 'about', 'projects', 'contacts', 'privacy', 'credentials', 'projects/projects/music-app', 'projects/reservation-app', 'projects/electric-bill', 'projects/music-player3', 'projects/music-player4', 'projects/music-player5']\r\n\r\n// this function will generate a return the current route\r\n// for the state\r\nexport const checkRoute = (route) => {\r\n   let r = route.slice(1, 50)\r\n   let url = r === '' ? 'home' : r\r\n   let b;\r\n   let a = routes.filter(route => {\r\n           return route === url\r\n         })\r\n   \r\n   if(a[0] === undefined) {\r\n      b = 'notFound'\r\n   } else {\r\n      b = a[0]\r\n   }\r\n   \r\n   return b\r\n}\r\n"]},"metadata":{},"sourceType":"module"}